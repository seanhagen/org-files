#+FILETAGS: @personal
#+CATEGORY: network
# Local Variables:
# eval: (auto-revert-mode)
# End:
* Network TODO
** PFSense [/]
- [X] setup the interfaces properly [4/4]
  - [X] igb0 -- wan
  - [X] igb1 -- all VLANs ( via bridge )
  - [X] igb2 -- all VLANs ( via bridge ) 
  - [X] igb3 -- all VLANs ( via bridge ) 
- [ ] block access to pfsense web ui from every vlan except hstream
- [ ] block access [0/3]:
  - [ ] from hlabmng to any
  - [ ] from guest to any
  - [ ] from work to any
- [ ] allow stream to access other vlans via firewall
- [ ] allow access to homelab from home & stream, but not the other way (
  connection based )
** VPN 
- [[https://security.stackexchange.com/questions/90467/can-i-vpn-a-phones-connection-to-my-home-network-and-then-apply-my-home-firewa][security stackexchange thread]]
- [[https://www.reddit.com/r/HomeNetworking/comments/b2ob89/how_to_access_home_network_remotely_via_vpn/][reddit thread]]
- [[https://openvpn.net/community-resources/how-to/#expanding-the-scope-of-the-vpn-to-include-additional-machines-on-either-the-client-or-server-subnet][openvpn setup]]
- [[https://zerotier.com/pricing/][zerotier]]
- [[https://www.wireguard.com/][wireguard]]
- [[https://www.howtogeek.com/221001/how-to-set-up-your-own-home-vpn-server/][setup guide]]
** VLAN Setup
*** Default ( No Access )
VLAN: 1
IP: 10.0.0.1/24
NAME: DEFAULT
Wifi: None

ACCESS TO VLAN: NONE
ACCESS FROM VLAN: HLAB, HSTREAM

DOMAIN: hagendef

- what you get when plugged into an unconfigured port on the switch

*** Management VLAN
VLAN: 10
IP: 10.10.0.1/24
NAME: HLABMNG
WIFI: HLABMNG

ACCESS TO VLAN: NONE
ACCESS FROM VLAN: HSTREAM

DOMAIN: hlabmanage

- for accessing any router/switch stuff, as well as any management interfaces on
  servers ( if they exist -- idrac, etc )
  
*** Homelab Access
VLAN: 20
IP: 10.20.0.1/24
NAME: HLAB
WIFI: None

ACCESS TO VLAN: HIOT, HGUEST, HWORK, HMEDIA
ACCESS FROM VLAN: HSTREAM, HHOME, HMEDIA, HIOT

DOMAIN: hagenlab

- for usage of stuff in the homelab -- getting to sabnzbd, etc
  
*** Stream Optimized 
VLAN: 30
IP: 10.30.0.1/24
NAME: HSTREAM
WIFI: HagenStream

ACCESS TO VLAN: ALL
ACCESS FROM VLAN: NONE

DOMAIN: hstream

- for my stuff ( work computer, fun computer, laptop, phone )
  
*** Home 
VLAN: 40
IP: 10.40.0.1/24
NAME: HHOME
WIFI: HagenWifi ( current: Hagenwifi )

ACCESS TO VLAN: HLAB, HMEDIA, HIOT
ACCESS FROM VLAN: NONE

DOMAIN: hagenhome

- for marie's stuff ( phone, laptop )
  
*** Media Network
VLAN: 50
IP: 10.50.0.1/24
NAME: HMEDIA
WIFI: HagenMedia

ACCESS TO VLAN: HLAB
ACCESS FROM VLAN: HLAB, HSTREAM, HHOME

DOMAIN: hagenmedia

- for chromecast, roku tv, etc  

*** Work Machines
VLAN: 60
IP: 10.60.0.1/24
NAME: HWORK
WIFI: HagenWork

ACCESS TO VLAN: NONE
ACCESS FROM VLAN: HSTREAM, HLAB

DOMAIN: hagenwork

- for any work devices we bring home ( marie's work laptop & phone )
  
*** Internet of Things
VLAN: 500
IP: 10.100.0.1/24
NAME: HIOT
WIFI: HagenIoT

ACCESS TO VLAN: NONE
ACCESS FROM VLAN: HLAB, HSTREAM, HHOME

DOMAIN: hageniot

- for any internet of things devices ( shelly, wemo, etc )
  
*** Security
VLAN: 600
IP: 10.200.0.1/24
NAME: HSEC
WIFI: HagenSecurity

ACCESS TO VLAN: ??? (HLAB?)
ACCESS FROM VLAN: HLAB, HSTREAM, HHOME

DOMAIN: hagensecurity

- for any security devices ( cameras, konnected, etc )

*** Guest Access
VLAN: 1000
IP: 10.250.0.1/24
NAME: HGUEST
WIFI: HagenGuest

ACCESS TO VLAN: NONE
ACCESS FROM VLAN: HLAB, HSTREAM, HHOME

DOMAIN: hagenguest

- for anybody who visits
- will be heeeeeavily throttled
** Server Use
*** ASROCK IMG-170
*** AMD E350
*** Gigabyte GA-P55-USB3
*** R310
- zoneminder
*** R720XD
- freenas ( or upgrade to truenas )
*** R810
- proxmox virtualization
** Ports
*** 1 - trunk
router
*** 2 - vlan 500
home assistant
*** 3 -  trunk
wifi ap
*** 4 - DC
*** 5 - trunk
office
*** 6 - DC
*** 7 - vlan 50
media center
*** 8 - DC
*** 9 - vlan 1000
*** 10 - DC
*** 11 - vlan 1000
*** 12 - DC
*** 13 - vlan 1000
*** 14 - DC
*** 15 - DC
*** 16 - DC
*** 17 - vlan 10
r810 idrac
*** 18 - vlan 20
r810
*** 19 - vlan 10
r710 idrac
*** 20 - vlan 500
r810
*** 21 - vlan 10
r410 idrac
*** 22 - vlan 30
r810
*** 23 - vlan 20
r720xd
*** 24 - vlan 600
r810
*** 25 - vlan 30
r710
*** 26 - vlan 20
mini 1 or 2
*** 27 - vlan 40
r710
*** 28 - vlan 20
mini 1 or 2
*** 29 - vlan 50
r710
*** 30 - vlan 10
mini 1 or 2 ( second port )
*** 31 - vlan 20
r710
*** 32 - vlan 600
r410
*** 33 - DC
*** 34 - DC
*** 35 - DC
*** 36 - DC
*** 37 - DC
*** 38 - DC
*** 39 - DC
*** 40 - DC
*** 41 - DC
*** 42 - DC
*** 43 - DC
*** 44 - DC
*** 45 - DC
*** 46 - vlan 20
micro 1
*** 47 - DC
*** 48 - vlan 20
micro 2
*** 49 - DC
*** 50 - DC
*** 51 - DC
*** 52 - DC



